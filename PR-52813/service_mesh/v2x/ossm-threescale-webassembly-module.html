

<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  
  
  <title>3scale WebAssembly for 2.1 - Service Mesh 2.x | Service Mesh | Red Hat OpenShift Service on AWS Branch Build</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/search.css" rel="stylesheet" media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/autumn.css" rel="stylesheet"  media="screen"/>
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png"/>
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css"/>
  <link href="https://assets.openshift.net/content/osh-nav-footer.css" rel="stylesheet" type="text/css" media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/docs.css" rel="stylesheet"  media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/print.css" rel="stylesheet" type="text/css" media="print"/>
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">

  <!-- Adobe DTM -->
  <script src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <!-- End Adobe DTM -->

  <script id="trustarc" src="https://static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
        rel="stylesheet">

</head>

<body onload="selectVersion('Branch Build');">
  
<nav id="main">
  <div class="container">
    <div class="row">
      <div class="navbar navbar-default navbar-openshift" role="navigation">
        <div class="navbar-header">
            <a href="#nav-main" class="dropdown-toggle navbar-menu-toggle hidden visible-xs" data-toggle="collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
          <a class="navbar-brand" href="/"></a>
        </div>
        <div id="nav-main" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="products" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                Products <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-column flex-md-row">
                  <div class="col-xs-12 col-sm-3">
                    <h3>Overview</h3>
                    <ul class="nav flex-column">
                      <li><a target="_blank" href="https://www.openshift.com/products/features/">Features</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/products/pricing/">Pricing</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-9">
                    <h3>Featured Products</h3>
                    <ul class="nav">
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/container-platform/">Red Hat OpenShift Container&nbsp;Platform</a>
                        <p class="d-none d-md-block">Build, deploy and manage your applications across cloud- and on-premise infrastructure</p>
                      </li>
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/dedicated/">Red Hat OpenShift Dedicated</a>
                        <p class="d-none d-md-block">Single-tenant, high-availability Kubernetes clusters in the public cloud</p>
                      </li>

                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/online/">Red Hat OpenShift Online</a>
                        <p class="d-none d-md-block">The fastest way for developers to build, host and scale applications in the public cloud</p>
                      </li>

                      <li class="nav-item">
                        <a target="_blank" href="https://www.openshift.com/products/">All products <span class="fa fa-angle-right"></span></a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li id="learn" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Learn <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-md-nowrap">
                  <div class="col-xs-12 col-sm-6">
                    <h3>Learn</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/what-is-openshift/">What is OpenShift</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/get-started/">Get started</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/partners/">Partners</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/success-stories/">Customer success stories</a></li>
                      <li><a target="_blank" href="https://blog.openshift.com">Blog</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/resources/">Resources</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <h3>Technology Topics</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/knative/">Knative</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/security/">Security</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/kubernetes/">Kubernetes</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/service-brokers/">Service Brokers</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Community <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://commons.openshift.org">OpenShift Commons</a></li>
                <li><a target="_blank" href="https://www.okd.io">Open Source (OKD)</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/startups/">Startups</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/grants/">Grants</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Support <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://help.openshift.com">Help Center</a></li>
                <li><a href="https://docs.openshift.com">OpenShift Docs</a></li>
              </ul>
            </li>

            <li><a target="_blank" class="nav-sign-up" href="https://www.openshift.com/trial/">Free Trial</a></li>

            <li><a target="_blank" href="https://console.redhat.com/openshift" class="nav-sign-in">Log In <span class="fa fa-angle-right"></span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

  
  <div class="container">
    <button id="hc-open-btn" class="open-btn-sm" onclick="openNav()" aria-label="Open"><span class="fa fa-bars" /></button>
    <ol class="breadcrumb hide-for-print">
      

      

      

      

      <li class="sitename">
        <a href="/">
          Documentation</a>
      </li>
      <li class="hidden-xs active">
        
          
              
                <a href="../../welcome/index.html">Red Hat OpenShift Service on AWS Branch Build</a>
              
        
        
      </li>
      <li class="hidden-xs active">
        Service Mesh
      </li>
      <li class="hidden-xs active"><a href="../../service_mesh/v2x/ossm-about.html">Service Mesh 2.x</a></li>
      <li class="hidden-xs active">
        3scale WebAssembly for 2.1
      </li>
      
      <span text-align="right" style="float: right !important">
        <a href="https://github.com/openshift/openshift-docs/commits/dedicated-4/service_mesh/v2x/ossm-threescale-webassembly-module.adoc"><span class="material-icons-outlined" title="Page history">history</span></a>
        
        <a href="https://github.com/openshift/openshift-docs/issues/new?title=[online] Issue in file service_mesh/v2x/ossm-threescale-webassembly-module.adoc">
          <span class="material-icons-outlined" title="Open an issue">bug_report</span>
        </a>
        <a href="javascript: void(0);" onclick="window.print()"><span class="material-icons-outlined" title="Print page (Save as PDF)">picture_as_pdf</span></a>
        
        
      </span>
      
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas hide-for-print">
        <div class="row-fluid">
          <div id="btn-close">
            <button id="hc-close-btn" onclick="closeNav()" class="close-btn-sm" aria-label="close"><span class="fa fa-times" /></button>
          </div>
          <div id="hc-search">
            <input id="hc-search-input" type="text" aria-label="search">
            <button id="hc-search-btn" aria-label="search"><span class="fa fa-search" /></button>
          </div>
        </div>
        <ul class="nav nav-sidebar">

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-right"></span>
          About
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup0" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../welcome/index.html">Welcome</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../welcome/legal-notice.html">Legal notice</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>
          Release notes
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup1" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_release_notes/rosa-release-notes.html">Red Hat OpenShift Service on AWS release notes</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2">
        <span id="tgSpan2" class="fa fa-angle-right"></span>
          Introduction to ROSA
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup2" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_architecture/rosa-understanding.html">Understanding ROSA</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-1">
                <span id="sgSpan-2-1" class="fa fa-caret-right"></span>
                  &nbsp;ROSA architecture

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-2-1" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_architecture/rosa_architecture_sub/rosa-basic-architecture-concepts.html">
                      Architecture concepts
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_architecture/rosa_architecture_sub/rosa-architecture-models.html">
                      Architecture models
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-2">
                <span id="sgSpan-2-2" class="fa fa-caret-right"></span>
                  &nbsp;Policies and service definition

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-2-2" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_architecture/rosa_policy_service_definition/rosa-policy-understand-availability.html">
                      About availability for ROSA
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_architecture/rosa_policy_service_definition/rosa-policy-responsibility-matrix.html">
                      Responsibility assignment matrix
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_architecture/rosa_policy_service_definition/rosa-service-definition.html">
                      ROSA service definition
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_architecture/rosa_policy_service_definition/rosa-life-cycle.html">
                      ROSA update life cycle
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_architecture/rosa_policy_service_definition/rosa-policy-process-security.html">
                      Understanding process and security for ROSA
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_architecture/rosa-sts-about-iam-resources.html">About IAM resources for ROSA with STS</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_architecture/rosa-getting-support.html">Support for ROSA</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3">
        <span id="tgSpan3" class="fa fa-angle-right"></span>
          Getting started
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup3" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_getting_started/rosa-quickstart-guide-ui.html">ROSA quickstart guide</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_getting_started/rosa-getting-started.html">Comprehensive guide to getting started with ROSA</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_getting_started/rosa-sts-getting-started-workflow.html">Understanding the ROSA with STS deployment workflow</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4">
        <span id="tgSpan4" class="fa fa-angle-right"></span>
          Prepare your environment
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup4" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_planning/rosa-sts-aws-prereqs.html">AWS prerequisites for ROSA with STS</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_planning/rosa-sts-ocm-role.html">OpenShift Cluster Manager IAM role resources</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_planning/rosa-limits-scalability.html">Limits and scalability</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_planning/rosa-planning-environment.html">Planning your environment</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_planning/rosa-sts-required-aws-service-quotas.html">Required AWS service quotas</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_planning/rosa-sts-setting-up-environment.html">Setting up your environment</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5">
        <span id="tgSpan5" class="fa fa-angle-right"></span>
          Installing, accessing, and deleting ROSA clusters
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup5" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_install_access_delete_clusters/rosa-sts-creating-a-cluster-quickly.html">Creating a ROSA cluster with STS using the default options</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_install_access_delete_clusters/rosa-sts-creating-a-cluster-with-customizations.html">Creating a ROSA cluster with STS using customizations</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_install_access_delete_clusters/rosa-sts-interactive-mode-reference.html">Interactive cluster creation mode reference</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_install_access_delete_clusters/rosa-aws-privatelink-creating-cluster.html">Creating an AWS PrivateLink cluster on ROSA</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_install_access_delete_clusters/rosa-sts-accessing-cluster.html">Accessing a ROSA cluster</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_install_access_delete_clusters/rosa-sts-config-identity-providers.html">Configuring identity providers using Red Hat OpenShift Cluster Manager</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_install_access_delete_clusters/rosa-sts-deleting-access-cluster.html">Revoking access to a ROSA cluster</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_install_access_delete_clusters/rosa-sts-deleting-cluster.html">Deleting a ROSA cluster</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-5-8">
                <span id="sgSpan-5-8" class="fa fa-caret-right"></span>
                  &nbsp;Deploying ROSA without AWS STS

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-5-8" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-aws-prereqs.html">
                      AWS prerequisites for ROSA
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-getting-started-workflow.html">
                      Understanding the ROSA deployment workflow
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-required-aws-service-quotas.html">
                      Required AWS service quotas
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-config-aws-account.html">
                      Configuring your AWS account
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-installing-rosa.html">
                      Installing the ROSA CLI
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-creating-cluster.html">
                      Creating a ROSA cluster without AWS STS
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-private-cluster.html">
                      Configuring a private cluster
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-deleting-access-cluster.html">
                      Deleting access to a ROSA cluster
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-deleting-cluster.html">
                      Deleting a ROSA cluster
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_install_access_delete_clusters/rosa_getting_started_iam/rosa-quickstart.html">
                      Command quick reference for creating clusters and users
                    </a>
                  </li>

                

              </ul>
            </li>
      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6">
        <span id="tgSpan6" class="fa fa-angle-right"></span>
          ROSA CLI
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup6" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_cli/rosa-get-started-cli.html">Getting started with the ROSA CLI</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_cli/rosa-manage-objects-cli.html">Managing objects with the ROSA CLI</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_cli/rosa-checking-acct-version-cli.html">Checking account and version information with the ROSA CLI</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_cli/rosa-checking-logs-cli.html">Checking logs with the ROSA CLI</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7">
        <span id="tgSpan7" class="fa fa-angle-right"></span>
          Red Hat OpenShift Cluster Manager
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup7" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../ocm/ocm-overview.html">Red Hat OpenShift Cluster Manager</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8">
        <span id="tgSpan8" class="fa fa-angle-right"></span>
          Cluster administration
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup8" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-8-0">
                <span id="sgSpan-8-0" class="fa fa-caret-right"></span>
                  &nbsp;Configuring private connections

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-8-0" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/cloud_infrastructure_access/rosa-configuring-private-connections.html">
                      Configuring private connections
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/cloud_infrastructure_access/dedicated-aws-peering.html">
                      Configuring AWS VPC peering
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/cloud_infrastructure_access/dedicated-aws-vpn.html">
                      Configuring AWS VPN
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/cloud_infrastructure_access/dedicated-aws-dc.html">
                      Configuring AWS Direct Connect
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-8-1">
                <span id="sgSpan-8-1" class="fa fa-caret-right"></span>
                  &nbsp;Nodes

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-8-1" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_nodes/rosa-nodes-machinepools-about.html">
                      About machine pools
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_nodes/rosa-managing-worker-nodes.html">
                      Managing compute nodes
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_nodes/rosa-nodes-about-autoscaling-nodes.html">
                      About autoscaling nodes on a cluster
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-8-2">
                <span id="sgSpan-8-2" class="fa fa-caret-right"></span>
                  &nbsp;Logging

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-8-2" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_logging/rosa-accessing-the-service-logs.html">
                      Accessing the service logs
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_logging/rosa-install-logging.html">
                      Installing the CloudWatch logging service
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_logging/rosa-viewing-logs.html">
                      Viewing cluster logs in the AWS Console
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-8-3">
                <span id="sgSpan-8-3" class="fa fa-caret-right"></span>
                  &nbsp;Monitoring user-defined projects

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-8-3" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_monitoring/rosa-understanding-the-monitoring-stack.html">
                      Understanding the monitoring stack
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_monitoring/rosa-accessing-monitoring-for-user-defined-projects.html">
                      Accessing monitoring for user-defined projects
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_monitoring/rosa-configuring-the-monitoring-stack.html">
                      Configuring the monitoring stack
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_monitoring/rosa-enabling-alert-routing-for-user-defined-projects.html">
                      Enabling alert routing for user-defined projects
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_monitoring/rosa-managing-metrics.html">
                      Managing metrics
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_monitoring/rosa-managing-alerts.html">
                      Managing alerts
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_monitoring/rosa-reviewing-monitoring-dashboards.html">
                      Reviewing monitoring dashboards
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../rosa_cluster_admin/rosa_monitoring/rosa-troubleshooting-monitoring-issues.html">
                      Troubleshooting monitoring issues
                    </a>
                  </li>

                

              </ul>
            </li>
      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9">
        <span id="tgSpan9" class="fa fa-angle-right"></span>
          Cluster security
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup9" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../authentication/managing-security-context-constraints.html">Managing security context constraints</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10">
        <span id="tgSpan10" class="fa fa-angle-right"></span>
          Upgrading
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup10" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../upgrading/rosa-upgrading-cluster-prepare.html">Preparing to upgrade ROSA to 4.9</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../upgrading/rosa-upgrading-sts.html">Upgrading ROSA with STS</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../upgrading/rosa-upgrading.html">Upgrading ROSA</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11">
        <span id="tgSpan11" class="fa fa-angle-right"></span>
          CI/CD
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup11" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-11-0">
                <span id="sgSpan-11-0" class="fa fa-caret-right"></span>
                  &nbsp;Builds

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-11-0" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../cicd/builds/setting-up-trusted-ca.html">
                      Setting up additional trusted certificate authorities for builds
                    </a>
                  </li>

                

              </ul>
            </li>
      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup12">
        <span id="tgSpan12" class="fa fa-angle-right"></span>
          Add-on services
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup12" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../adding_service_cluster/adding-service.html">Adding services to a cluster</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../adding_service_cluster/rosa-available-services.html">Available services</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup13">
        <span id="tgSpan13" class="fa fa-angle-right"></span>
          Storage and registry
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup13" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-13-0">
                <span id="sgSpan-13-0" class="fa fa-caret-right"></span>
                  &nbsp;Persistent storage

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-13-0" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../storage/persistent_storage/rosa-persistent-storage-aws-ebs.html">
                      Persistent storage using AWS Elastic Block Store
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../storage/persistent_storage/osd-persistent-storage-aws.html">
                      Persistent storage using AWS Elastic File Service
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../storage/persistent_storage/rosa-persistent-storage-aws-efs-csi.html">
                      AWS Elastic File Service CSI Driver Operator
                    </a>
                  </li>

                

              </ul>
            </li>
      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup14">
        <span id="tgSpan14" class="fa fa-angle-right"></span>
          Networking
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup14" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../networking/ingress-operator.html">Understanding the Ingress Operator</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-1">
                <span id="sgSpan-14-1" class="fa fa-caret-right"></span>
                  &nbsp;OpenShift SDN default CNI network provider

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-14-1" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../networking/openshift_sdn/enabling-multicast.html">
                      Enabling multicast for a project
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../networking/configuring-cluster-wide-proxy.html">Configuring a cluster-wide proxy</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../networking/cidr-range-definitions.html">CIDR range definitions</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-4">
                <span id="sgSpan-14-4" class="fa fa-caret-right"></span>
                  &nbsp;Network policy

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-14-4" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../networking/network_policy/about-network-policy.html">
                      About network policy
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../networking/network_policy/creating-network-policy.html">
                      Creating a network policy
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../networking/network_policy/viewing-network-policy.html">
                      Viewing a network policy
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../networking/network_policy/deleting-network-policy.html">
                      Deleting a network policy
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../networking/network_policy/multitenant-network-policy.html">
                      Configuring multitenant isolation with network policy
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-5">
                <span id="sgSpan-14-5" class="fa fa-caret-right"></span>
                  &nbsp;Configuring Routes

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-14-5" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../networking/routes/route-configuration.html">
                      Route configuration
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../networking/routes/secured-routes.html">
                      Secured routes
                    </a>
                  </li>

                

              </ul>
            </li>
      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup15">
        <span id="tgSpan15" class="fa fa-angle-right"></span>
          Application development
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup15" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-0">
                <span id="sgSpan-15-0" class="fa fa-caret-right"></span>
                  &nbsp;Deployments

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-15-0" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../applications/deployments/osd-config-custom-domains-applications.html">
                      Configuring custom domains for applications
                    </a>
                  </li>

                

              </ul>
            </li>
      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup16">
        <span id="tgSpan16" class="fa fa-angle-down"></span>
          Service Mesh
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup16" class="collapse in list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-16-0">
                <span id="sgSpan-16-0" class="fa fa-caret-down"></span>
                  &nbsp;Service Mesh 2.x

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-16-0" class="nav-tertiary list-unstyled collapse in">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-about.html">
                      About OpenShift Service Mesh
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/servicemesh-release-notes.html">
                      Service Mesh 2.x release notes
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-architecture.html">
                      Service Mesh architecture
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-deployment-models.html">
                      Service Mesh deployment models
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-vs-community.html">
                      Service Mesh and Istio differences
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/preparing-ossm-installation.html">
                      Preparing to install Service Mesh
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/installing-ossm.html">
                      Installing the Operators
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-create-smcp.html">
                      Creating the ServiceMeshControlPlane
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-create-mesh.html">
                      Adding workloads to a service mesh
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/prepare-to-deploy-applications-ossm.html">
                      Enabling sidecar injection
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/upgrading-ossm.html">
                      Upgrading Service Mesh
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-profiles-users.html">
                      Managing users and profiles
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-security.html">
                      Security
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-traffic-manage.html">
                      Traffic management
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-observability.html">
                      Metrics, logs, and traces
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-performance-scalability.html">
                      Performance and scalability
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-deploy-production.html">
                      Deploying to production
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-federation.html">
                      Federation
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-extensions.html">
                      Extensions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class=" active" href="../../service_mesh/v2x/ossm-threescale-webassembly-module.html">
                      3scale WebAssembly for 2.1
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/threescale-adapter.html">
                      3scale Istio adapter for 2.0
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-troubleshooting-istio.html">
                      Troubleshooting Service Mesh
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-reference-smcp.html">
                      Control plane configuration reference
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-reference-kiali.html">
                      Kiali configuration reference
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/ossm-reference-jaeger.html">
                      Jaeger configuration reference
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v2x/removing-ossm.html">
                      Uninstalling Service Mesh
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-16-1">
                <span id="sgSpan-16-1" class="fa fa-caret-right"></span>
                  &nbsp;Service Mesh 1.x

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-16-1" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/servicemesh-release-notes.html">
                      Service Mesh 1.x release notes
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/ossm-architecture.html">
                      Service Mesh architecture
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/ossm-vs-community.html">
                      Service Mesh and Istio differences
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/preparing-ossm-installation.html">
                      Preparing to install Service Mesh
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/installing-ossm.html">
                      Installing Service Mesh
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/ossm-security.html">
                      Security
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/ossm-traffic-manage.html">
                      Traffic management
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/prepare-to-deploy-applications-ossm.html">
                      Deploying applications on Service Mesh
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/ossm-observability.html">
                      Data visualization and observability
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/ossm-custom-resources.html">
                      Custom resources
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/threescale-adapter.html">
                      3scale Istio adapter for 1.x
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../service_mesh/v1x/removing-ossm.html">
                      Removing Service Mesh
                    </a>
                  </li>

                

              </ul>
            </li>
      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup17">
        <span id="tgSpan17" class="fa fa-angle-right"></span>
          Serverless
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup17" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../serverless/serverless-release-notes.html">Release notes</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-1">
                <span id="sgSpan-17-1" class="fa fa-caret-right"></span>
                  &nbsp;Discover

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-17-1" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/discover/about-serverless.html">
                      About OpenShift Serverless
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/discover/serverless-functions-about.html">
                      About OpenShift Serverless Functions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/discover/knative-event-sources.html">
                      Event sources
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/discover/serverless-brokers.html">
                      Brokers
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/discover/serverless-channels.html">
                      Channels and subscriptions
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-2">
                <span id="sgSpan-17-2" class="fa fa-caret-right"></span>
                  &nbsp;Install

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-17-2" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/install/install-serverless-operator.html">
                      Installing the OpenShift Serverless Operator
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/install/installing-knative-serving.html">
                      Installing Knative Serving
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/install/installing-knative-eventing.html">
                      Installing Knative Eventing
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/install/removing-openshift-serverless.html">
                      Removing OpenShift Serverless
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-3">
                <span id="sgSpan-17-3" class="fa fa-caret-right"></span>
                  &nbsp;Knative CLI

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-17-3" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/cli_tools/installing-kn.html">
                      Installing the Knative CLI
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/cli_tools/advanced-kn-config.html">
                      Configuring the Knative CLI
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/cli_tools/kn-serving-ref.html">
                      Knative Serving CLI commands
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/cli_tools/kn-eventing-ref.html">
                      Knative Eventing CLI commands
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/cli_tools/kn-func-ref.html">
                      Functions commands
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-4">
                <span id="sgSpan-17-4" class="fa fa-caret-right"></span>
                  &nbsp;Develop

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-17-4" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-applications.html">
                      Serverless applications
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-autoscaling-developer.html">
                      Autoscaling
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-traffic-management.html">
                      Traffic management
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-configuring-routes.html">
                      Routing
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-event-sinks.html">
                      Event sinks
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-event-delivery.html">
                      Event delivery
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-listing-event-sources.html">
                      Listing event sources and event source types
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-apiserversource.html">
                      Creating an API server source
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-pingsource.html">
                      Creating a ping source
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-custom-event-sources.html">
                      Custom event sources
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-creating-channels.html">
                      Creating channels
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-subs.html">
                      Creating and managing subscriptions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-using-brokers.html">
                      Creating brokers
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-triggers.html">
                      Triggers
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/develop/serverless-kafka-developer.html">
                      Using Knative Kafka
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-5">
                <span id="sgSpan-17-5" class="fa fa-caret-right"></span>
                  &nbsp;Administer

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-17-5" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/admin_guide/serverless-configuration.html">
                      Global configuration
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/admin_guide/serverless-kafka-admin.html">
                      Configuring Knative Kafka
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/admin_guide/serverless-admin-perspective.html">
                      Serverless components in the Administrator perspective
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/admin_guide/serverless-ossm-setup.html">
                      Integrating Service Mesh with OpenShift Serverless
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/admin_guide/serverless-admin-metrics.html">
                      Serverless administrator metrics
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/admin_guide/serverless-ha.html">
                      High availability on OpenShift Serverless
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-6">
                <span id="sgSpan-17-6" class="fa fa-caret-right"></span>
                  &nbsp;Monitor

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-17-6" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/monitor/cluster-logging-serverless.html">
                      Cluster logging with OpenShift Serverless
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/monitor/serverless-developer-metrics.html">
                      Serverless developer metrics
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../serverless/serverless-tracing.html">Tracing</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../serverless/serverless-support.html">Support</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-9">
                <span id="sgSpan-17-9" class="fa fa-caret-right"></span>
                  &nbsp;Security

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-17-9" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/security/serverless-config-tls.html">
                      Configuring TLS authentication
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/security/serverless-ossm-with-kourier-jwt.html">
                      Configuring JSON Web Token authentication for Knative services
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/security/serverless-custom-domains.html">
                      Configuring a custom domain for a Knative service
                    </a>
                  </li>

                

              </ul>
            </li>

        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


            <!-- this topic contains subtopics - Welcome 2 -->


            <!-- start a new heading area -->

            <li class="nav-header">
              <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-10">
                <span id="sgSpan-17-10" class="fa fa-caret-right"></span>
                  &nbsp;Functions

                  <!-- prints out the names of the second level books with arrow down or to right
                  So in this case: Welcome 2 -->

              </a>
              <ul id="topicSubGroup-17-10" class="nav-tertiary list-unstyled collapse">

                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-functions-setup.html">
                      Setting up OpenShift Serverless Functions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-functions-getting-started.html">
                      Getting started with functions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-developing-nodejs-functions.html">
                      Developing Node.js functions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-developing-typescript-functions.html">
                      Developing TypeScript functions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-developing-go-functions.html">
                      Developing Go functions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-developing-python-functions.html">
                      Developing Python functions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-developing-quarkus-functions.html">
                      Developing Quarkus functions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-functions-eventing.html">
                      Using functions with Knative Eventing
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-functions-yaml.html">
                      Function project configuration in func.yaml
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-functions-accessing-secrets-configmaps.html">
                      Accessing secrets and config maps from functions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-functions-annotations.html">
                      Adding annotations to functions
                    </a>
                  </li>

                


                <!-- for each topic in this topic_group, in Welcome 2, what topics exist?
                     Welcome 2 Index Page, Welcome 3 and Welcome 2 More - we list them all.. -->

                
                
                
                
                

                <!-- is this is a single page? That is, does this topic have more topics?
                 Welcome 2 Index Page and Welcome 2 More -->




                  <li>
                    <a class="" href="../../serverless/functions/serverless-functions-reference-guide.html">
                      Functions development reference guide
                    </a>
                  </li>

                

              </ul>
            </li>
      </ul>
    </li>

<!--  the top level  groupings start here -->





<!-- group_id is the one that is user selected. topic_group[id] is what we are parsing via navigation -->

    <li class="nav-header">






      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup18">
        <span id="tgSpan18" class="fa fa-angle-right"></span>
          Troubleshooting
          <!-- prints out the names of the top level books with arrow down or to right
               So in this case: Welcome 1 and Another Book -->
      </a>


      <!-- this then goes through all the topics within the top level groups
      depending on whether it itself contains further topics or is a single file -->

      <ul id="topicGroup18" class="collapse  list-unstyled">


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_support/rosa-troubleshooting-expired-tokens.html">Troubleshooting expired offline access tokens</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_support/rosa-troubleshooting-installations.html">Troubleshooting installations</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_support/rosa-troubleshooting-iam-resources.html">Troubleshooting IAM roles</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->


        <!-- for each topic in this topic_group, for example in Welcome 1, what topics exist?
        Welcome 2 and Welcome 1 More -->


          <!-- is this is a single page? That is, does this topic have more topics?
          Welcome 1 More -->

            <!-- ^ this establishs whether we are reading this current page -->

            <li><a class="" href="../../rosa_support/rosa-troubleshooting-deployments.html">Troubleshooting cluster deployments</a></li>
            <!--  if active, then highlight it,  otherwise nothing to do -->

      </ul>
    </li>
</ul>
      </div>
      <div id="hc-search-modal">
        <div id="hc-modal-content">
          <span id="hc-modal-close">&times;</span>
          <div id="hc-search-results-wrapper">
            <div id="hc-search-results"></div>
            <div id="hc-search-progress-indicator" class="text-center search-progress-indicator"><i class="fa fa-circle-o-notch fa-spin" style="font-size:42px"></i></div>
            <div class="text-center">
              <button id="hc-search-more-btn">Show more results</button>
            </div>
          </div>
        </div>
      </div>
      <div class="print-logo" style="display:none;">
        <img src="https://www.redhat.com/cms/managed-files/Logo-Red_Hat-OpenShift-A-Standard-RGB_0_0.svg" alt="print logo"/>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>
            Using the 3scale WebAssembly module
          </h1>
        </div>
        
        
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#compatibility_ossm-threescale-webassembly-module">Compatibility</a></li>
<li><a href="#usage-as-a-stand-alone-module_ossm-threescale-webassembly-module">Usage as a stand-alone module</a></li>
<li><a href="#ossm-configuring-the-threescale-wasm-auth-module_ossm-threescale-webassembly-module">Configuring the threescale-wasm-auth module</a>
<ul class="sectlevel2">
<li><a href="#the-service-mesh-extension_ossm-threescale-webassembly-module">The Service Mesh extension</a></li>
</ul>
</li>
<li><a href="#ossm-threescale-applying-external-service-entry-objects_ossm-threescale-webassembly-module">Applying 3scale external ServiceEntry objects</a></li>
<li><a href="#ossm-threescale-webassembly-module-configuration_ossm-threescale-webassembly-module">The 3scale WebAssembly module configuration</a>
<ul class="sectlevel2">
<li><a href="#threescale-configuring-the-threescale-webassembly-module_ossm-threescale-webassembly-module">Configuring the 3scale WebAssembly module</a></li>
<li><a href="#ossm-threescale-webassembly-module-api-object_ossm-threescale-webassembly-module">The 3scale WebAssembly module api object</a></li>
<li><a href="#ossm-threescale-webassembly-module-system-object_ossm-threescale-webassembly-module">The 3scale WebAssembly module system object</a></li>
<li><a href="#ossm-threescale-webassembly-module-upstream-object_ossm-threescale-webassembly-module">The 3scale WebAssembly module upstream object</a></li>
<li><a href="#ossm-threescale-webassembly-module-backend-object_ossm-threescale-webassembly-module">The 3scale WebAssembly module backend object</a></li>
<li><a href="#ossm-threescale-webassembly-module-services-object_ossm-threescale-webassembly-module">The 3scale WebAssembly module services object</a></li>
<li><a href="#ossm-threescale-webassembly-module-credentials-object_ossm-threescale-webassembly-module">The 3scale WebAssembly module credentials object</a></li>
<li><a href="#ossm-threescale-webassembly-module-lookup-queries_ossm-threescale-webassembly-module">The 3scale WebAssembly module lookup queries</a></li>
<li><a href="#ossm-threescale-webassembly-module-source-object_ossm-threescale-webassembly-module">The 3scale WebAssembly module source object</a></li>
<li><a href="#ossm-threescale-webassembly-module-operations-object_ossm-threescale-webassembly-module">The 3scale WebAssembly module operations object</a></li>
<li><a href="#ossm-threescale-webassembly-module-mapping-rules-object_ossm-threescale-webassembly-module">The 3scale WebAssembly module mapping_rules object</a></li>
<li><a href="#ossm-threescale-webassembly-module-mapping-rule-object_ossm-threescale-webassembly-module">The 3scale WebAssembly module mapping_rule object</a></li>
</ul>
</li>
<li><a href="#ossm-threescale-webassembly-module-examples-for-credentials-use-cases_ossm-threescale-webassembly-module">The 3scale WebAssembly module examples for credentials use cases</a>
<ul class="sectlevel2">
<li><a href="#api-key-in-query-string-parameters_ossm-threescale-webassembly-module">API key (user_key) in query string parameters</a></li>
<li><a href="#application-id-and-key_ossm-threescale-webassembly-module">Application ID and key</a></li>
<li><a href="#authorization-header_ossm-threescale-webassembly-module">Authorization header</a></li>
<li><a href="#openid-connect-use-case_ossm-threescale-webassembly-module">OpenID Connect (OIDC) use case</a></li>
<li><a href="#picking-up-the-jwt-token-from-a-header_ossm-threescale-webassembly-module">Picking up the JWT token from a header</a></li>
</ul>
</li>
<li><a href="#ossm-threescale-webassembly-module-minimal-working-configuration_ossm-threescale-webassembly-module">3scale WebAssembly module minimal working configuration</a></li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>threescale-wasm-auth</code> module runs on integrations of 3scale API Management 2.11 or later with Red Hat OpenShift Service Mesh 2.1.0 or later.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>threescale-wasm-auth</code> module is a <a href="https://webassembly.org">WebAssembly</a> module that uses a set of interfaces, known as an application binary interfaces (<em>ABI</em>). This is defined by the <a href="https://github.com/proxy-wasm/spec"><em>Proxy-WASM</em></a> specification to drive any piece of software that implements the ABI so it can authorize HTTP requests against 3scale.</p>
</div>
<div class="paragraph">
<p>As an ABI specification, Proxy-WASM defines the interaction between a piece of software named <em>host</em> and another named <em>module</em>, <em>program</em>, or <em>extension</em>. The host exposes a set of services used by the module to perform a task, and in this case, to process proxy requests.</p>
</div>
<div class="paragraph">
<p>The host environment is composed of a WebAssembly virtual machine interacting with a piece of software, in this case, an HTTP proxy.</p>
</div>
<div class="paragraph">
<p>The module itself runs in isolation to the outside world except for the instructions it runs on the virtual machine and the ABI specified by Proxy-WASM. This is a safe way to provide extension points to software: the extension can only interact in well-defined ways with the virtual machine and the host. The interaction provides a computing model and a connection to the outside world the proxy is meant to have.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="compatibility_ossm-threescale-webassembly-module"><a class="anchor" href="#compatibility_ossm-threescale-webassembly-module"></a>Compatibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>threescale-wasm-auth</code> module is designed to be fully compatible with all implementations of the <em>Proxy-WASM ABI</em> specification. At this point, however, it has only been thoroughly tested to work with the <a href="https://www.envoyproxy.io">Envoy</a> reverse proxy.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage-as-a-stand-alone-module_ossm-threescale-webassembly-module"><a class="anchor" href="#usage-as-a-stand-alone-module_ossm-threescale-webassembly-module"></a>Usage as a stand-alone module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Because of its self-contained design, it is possible to configure this module to work with Proxy-WASM proxies independently of Service Mesh, as well as 3scale Istio adapter deployments.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ossm-configuring-the-threescale-wasm-auth-module_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-configuring-the-threescale-wasm-auth-module_ossm-threescale-webassembly-module"></a>Configuring the threescale-wasm-auth module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cluster administrators on Red Hat OpenShift Service on AWS can configure the <code>threescale-wasm-auth</code> module to authorize HTTP requests to 3scale API Management through an application binary interface (ABI). The ABI defines the interaction between host and the module, exposing the hosts services, and allows you to use the module to process proxy requests.</p>
</div>
<div class="sect2">
<h3 id="the-service-mesh-extension_ossm-threescale-webassembly-module"><a class="anchor" href="#the-service-mesh-extension_ossm-threescale-webassembly-module"></a>The Service Mesh extension</h3>
<div class="paragraph">
<p>Service Mesh provides a custom resource definition to specify and apply Proxy-WASM extensions to sidecar proxies, known as <a href="../../service_mesh/v2x/ossm-extensions.html#ossm-extensions"><code>ServiceMeshExtension</code></a>.  Service Mesh applies this custom resource to the set of workloads that require HTTP API management with 3scale.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Configuring the WebAssembly extension is currently a manual process. Support for fetching the configuration for services from the 3scale system will be available in a future release.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Identify a Kubernetes workload and namespace on your Service Mesh deployment that you will apply this module.</p>
</li>
<li>
<p>You must have a 3scale tenant account. See <a href="https://www.3scale.net/signup">SaaS</a> or <a href="https://access.redhat.com/documentation/en-us/red_hat_3scale_api_management/2.11/html-single/installing_3scale/index#install-threescale-on-openshift-guide">3scale 2.11 On-Premises</a> with a matching service and relevant applications and metrics defined.</p>
</li>
<li>
<p>If you apply the module to the <code>productpage</code> microservice in the <code>bookinfo</code> namespace, see the <a href="../../service_mesh/v1x/prepare-to-deploy-applications-ossm.html#ossm-tutorial-bookinfo-overview_deploying-applications-ossm-v1x">Bookinfo sample application</a>.</p>
<div class="ulist">
<ul>
<li>
<p>The following example is the YAML format for the custom resource for <code>threescale-wasm-auth</code> module.
This example refers to the upstream Maistra version of Service Mesh, ServiceMeshExtension API. You must declare the namespace where the <code>threescale-wasm-auth</code> module is deployed, alongside a <code>WorkloadSelector</code> to identify the set of applications the module will apply to:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">maistra.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ServiceMeshExtension</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">threescale-wasm-auth</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">bookinfo</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">workloadSelector</span><span class="pi">:</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="na">labels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">productpage</span>
  <span class="na">config</span><span class="pi">:</span> <span class="s">&lt;yaml_configuration&gt;</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">registry.redhat.io/openshift-service-mesh/3scale-auth-wasm-rhel8:0.0.1</span>
  <span class="na">phase</span><span class="pi">:</span> <span class="s">PostAuthZ</span>
  <span class="na">priority</span><span class="pi">:</span> <span class="s">100</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>namespace</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>WorkloadSelector</code>.</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>The <code>spec.config</code> field depends on the module configuration and it is not populated in the previous example. Instead, the example uses the <code>&lt;yaml_configuration&gt;</code> placeholder value. You can use the format of this custom resource example.</p>
<div class="ulist">
<ul>
<li>
<p>The <code>spec.config</code> field varies depending on the application. All other fields persist across multiple instances of this custom resource. As examples:</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>image</code>:  Only changes when newer versions of the module are deployed.</p>
</li>
<li>
<p><code>phase</code>:  Remains the same, since this module needs to be invoked after the proxy has done any local authorization, such as validating OpenID Connect (OIDC) tokens.</p>
</li>
</ul>
</div>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>After you have the module configuration in <code>spec.config</code> and the rest of the custom resource, apply it with the <code>oc apply</code> command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc apply <span class="nt">-f</span> threescale-wasm-auth-bookinfo.yaml</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../../service_mesh/v2x/ossm-extensions.html#ossm-smextensions-deploy_ossm-extensions">Deploying <code>ServiceMeshExtension</code> resources</a></p>
</li>
<li>
<p><a href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources">Custom Resources</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ossm-threescale-applying-external-service-entry-objects_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-applying-external-service-entry-objects_ossm-threescale-webassembly-module"></a>Applying 3scale external ServiceEntry objects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To have the <code>threescale-wasm-auth</code> module authorize requests against 3scale, the module must have access to 3scale services. You can do this within Red Hat OpenShift Service Mesh by applying an external <code>ServiceEntry</code> object and a corresponding <code>DestinationRule</code> object for TLS configuration to use the HTTPS protocol.</p>
</div>
<div class="paragraph">
<p>The custom resources (CRs) set up the service entries and destination rules for secure access from within Service Mesh to 3scale Hosted (SaaS) for the backend and system components of the Service Management API and the Account Management API. The Service Management API receives queries for the authorization status of each request. The Account Management API provides API management configuration settings for your services.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Apply the following external <code>ServiceEntry</code> CR and related <code>DestinationRule</code> CR for 3scale Hosted <strong>backend</strong> to your cluster:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Add the <code>ServiceEntry</code> CR to a file called <code>service-entry-threescale-saas-backend.yml</code>:</p>
<div class="listingblock">
<div class="title">ServiceEntry CR</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">apiVersion: networking.istio.io/v1beta1
kind: ServiceEntry
metadata:
  name: service-entry-threescale-saas-backend
spec:
  hosts:
  - su1.3scale.net
  ports:
  - number: 443
    name: https
    protocol: HTTPS
  location: MESH_EXTERNAL
  resolution: DNS</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add the <code>DestinationRule</code> CR to a file called <code>destination-rule-threescale-saas-backend.yml</code>:</p>
<div class="listingblock">
<div class="title">DestinationRule CR</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">apiVersion: networking.istio.io/v1beta1
kind: DestinationRule
metadata:
  name: destination-rule-threescale-saas-backend
spec:
  host: su1.3scale.net
  trafficPolicy:
    tls:
      mode: SIMPLE
      sni: su1.3scale.net</span></code></pre>
</div>
</div>
</li>
<li>
<p>Apply and save the external <code>ServiceEntry</code> CR for the 3scale Hosted backend to your cluster, by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc apply <span class="nt">-f</span> service-entry-threescale-saas-backend.yml</code></pre>
</div>
</div>
</li>
<li>
<p>Apply and save the external <code>DestinationRule</code> CR for the 3scale Hosted backend to your cluster, by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc apply <span class="nt">-f</span> destination-rule-threescale-saas-backend.yml</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Apply the following external <code>ServiceEntry</code> CR and related <code>DestinationRule</code> CR for 3scale Hosted <strong>system</strong> to your cluster:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Add the <code>ServiceEntry</code> CR to a file called <code>service-entry-threescale-saas-system.yml</code>:</p>
<div class="listingblock">
<div class="title">ServiceEntry CR</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">apiVersion: networking.istio.io/v1beta1
kind: ServiceEntry
metadata:
  name: service-entry-threescale-saas-system
spec:
  hosts:
  - multitenant.3scale.net
  ports:
  - number: 443
    name: https
    protocol: HTTPS
  location: MESH_EXTERNAL
  resolution: DNS</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add the <code>DestinationRule</code> CR to a file called <code>destination-rule-threescale-saas-system.yml</code>:</p>
<div class="listingblock">
<div class="title">DestinationRule CR</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">apiVersion: networking.istio.io/v1beta1
kind: DestinationRule
metadata:
  name: destination-rule-threescale-saas-system
spec:
  host: multitenant.3scale.net
  trafficPolicy:
    tls:
      mode: SIMPLE
      sni: multitenant.3scale.net</span></code></pre>
</div>
</div>
</li>
<li>
<p>Apply and save the external <code>ServiceEntry</code> CR for the 3scale Hosted system to your cluster, by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc apply <span class="nt">-f</span> service-entry-threescale-saas-system.yml</code></pre>
</div>
</div>
</li>
<li>
<p>Apply and save the external <code>DestinationRule</code> CR for the 3scale Hosted system to your cluster, by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc apply <span class="nt">-f</span> &lt;destination-rule-threescale-saas-system.yml&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Alternatively, you can deploy an in-mesh 3scale service. To deploy an in-mesh 3scale service, change the location of the services in the CR by deploying 3scale and linking to the deployment.</p>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../../service_mesh/v2x/ossm-traffic-manage.html#ossm-routing-service-entries_traffic-management">Service entry and destination rule documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ossm-threescale-webassembly-module-configuration_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-configuration_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>ServiceMeshExtension</code> custom resource spec provides the configuration that the <code>Proxy-WASM</code> module reads from.</p>
</div>
<div class="paragraph">
<p>The spec is embedded in the host and read by the <code>Proxy-WASM</code> module. Typically, the configurations are in the JSON file format for the modules to parse, however the <code>ServiceMeshExtension</code> resource can interpret the spec value as YAML and convert it to JSON for consumption by the module.</p>
</div>
<div class="paragraph">
<p>If you use the <code>Proxy-WASM</code> module in stand-alone mode, you must write the configuration using the JSON format. Using the JSON format means using escaping and quoting where needed within the <code>host</code> configuration files, for example <code>Envoy</code>. When you use the WebAssembly module with the <code>ServiceMeshExtension</code> resource, the configuration is in the YAML format. In this case, an invalid configuration forces the module to show diagnostics based on its JSON representation to a sidecar&#8217;s logging stream.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>EnvoyFilter</code> custom resource is not a supported API, although it can be used in some 3scale Istio adapter or Service Mesh releases. Using the <code>EnvoyFilter</code> custom resource is not recommended. Use the <code>ServiceMeshExtension</code> API instead of the <code>EnvoyFilter</code> custom resource.
If you must use the <code>EnvoyFilter</code> custom resource, you must specify the spec in JSON format.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="threescale-configuring-the-threescale-webassembly-module_ossm-threescale-webassembly-module"><a class="anchor" href="#threescale-configuring-the-threescale-webassembly-module_ossm-threescale-webassembly-module"></a>Configuring the 3scale WebAssembly module</h3>
<div class="paragraph">
<p>The architecture of the 3scale WebAssembly module configuration depends on the 3scale account and authorization service, and the list of services to handle.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>The prerequisites are a set of minimum mandatory fields in all cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For the 3scale account and authorization service: the <code>backend-listener</code> URL.</p>
</li>
<li>
<p>For the list of services to handle: the service IDs and at least one credential look up method and where to find it.</p>
</li>
<li>
<p>You will find examples for dealing with <code>userkey</code>, <code>appid</code> with <code>appkey</code>, and OpenID Connect (OIDC) patterns.</p>
</li>
<li>
<p>The WebAssembly module uses the settings you specified in the static configuration. For example, if you add a mapping rule configuration to the module, it will always apply, even when the 3scale Admin Portal has no such mapping rule. The rest of the <code>ServiceMeshExtension</code> resource exists around the <code>spec.config</code> YAML entry.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ossm-threescale-webassembly-module-api-object_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-api-object_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module api object</h3>
<div class="paragraph">
<p>The <code>api</code> top-level string from the 3scale WebAssembly module defines which version of the configuration the module will use.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A non-existent or unsupported version of the <code>api</code> object renders the 3scale WebAssembly module inoperable.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">The <code>api</code> top-level string example</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">maistra.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ServiceMeshExtension</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">threescale-wasm-auth</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">bookinfo</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">config</span><span class="pi">:</span>
    <span class="na">api</span><span class="pi">:</span> <span class="s">v1</span>
<span class="nn">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>api</code> entry defines the rest of the values for the configuration. The only accepted value is <code>v1</code>. New settings that break compatibility with the current configuration or need more logic that modules using <code>v1</code> cannot handle, will require different values.</p>
</div>
</div>
<div class="sect2">
<h3 id="ossm-threescale-webassembly-module-system-object_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-system-object_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module system object</h3>
<div class="paragraph">
<p>The <code>system</code> top-level object specifies how to access the 3scale Account Management API for a specific account. The <code>upstream</code> field is the most important part of the object. The <code>system</code> object is optional, but recommended unless you are providing a fully static configuration for the 3scale WebAssembly module, which is an option if you do not want to provide connectivity to the <em>system</em> component of 3scale.</p>
</div>
<div class="paragraph">
<p>When you provide static configuration objects in addition to the <code>system</code> object, the static ones always take precedence.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">maistra.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ServiceMeshExtension</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">threescale-wasm-auth</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="s">...</span>
  <span class="s">config</span><span class="pi">:</span>
    <span class="na">system</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">saas_porta</span>
      <span class="na">upstream</span><span class="pi">:</span> <span class="s">&lt;object&gt;</span>
      <span class="na">token</span><span class="pi">:</span> <span class="s">myaccount_token</span>
      <span class="na">ttl</span><span class="pi">:</span> <span class="m">300</span>
  <span class="s">...</span></code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. <code>system</code> object fields</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>name</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An identifier for the 3scale service, currently not referenced elsewhere.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>upstream</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The details about a network host to be contacted. <code>upstream</code> refers to the 3scale Account Management API host known as system.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>token</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A 3scale personal access token with read permissions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ttl</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The minimum amount of seconds to consider a configuration retrieved from this host as valid before trying to fetch new changes. The default is 600 seconds (10 minutes). <strong>Note:</strong> there is no maximum amount, but the module will generally fetch any configuration within a reasonable amount of time after this TTL elapses.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="ossm-threescale-webassembly-module-upstream-object_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-upstream-object_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module upstream object</h3>
<div class="paragraph">
<p>The <code>upstream</code> object describes an external host to which the proxy can perform calls.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">maistra.io/v1</span>
<span class="na">upstream</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">outbound|443||multitenant.3scale.net</span>
  <span class="na">url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://myaccount-admin.3scale.net/"</span>
  <span class="na">timeout</span><span class="pi">:</span> <span class="m">5000</span>
<span class="nn">...</span></code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. <code>upstream</code> object fields</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>name</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>name</code> is not a free-form identifier. It is the identifier for the external host as defined by the proxy configuration. In the case of stand-alone <code>Envoy</code> configurations, it maps to the name of a <a href="https://www.envoyproxy.io/docs/envoy/v1.19.0/api-v3/config/cluster/v3/cluster.proto#config-cluster-v3-cluster">Cluster</a>, also known as <code>upstream</code> in other proxies. <strong>Note:</strong> the value of this field, because the Service Mesh and 3scale Istio adapter control plane configure the name according to a format using a vertical bar (|) as the separator of multiple fields. For the purposes of this integration, always use the format: <code>outbound|&lt;port&gt;||&lt;hostname&gt;</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>url</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The complete URL to access the described service. Unless implied by the scheme, you must include the TCP port.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>Timeout</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timeout in milliseconds so that connections to this service that take more than the amount of time to respond will be considered errors. Default is 1000 seconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="ossm-threescale-webassembly-module-backend-object_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-backend-object_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module backend object</h3>
<div class="paragraph">
<p>The <code>backend</code> top-level object specifies how to access the 3scale Service Management API for authorizing and reporting HTTP requests. This service is provided by the <em>Backend</em> component of 3scale.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">maistra.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ServiceMeshExtension</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">threescale-wasm-auth</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">config</span><span class="pi">:</span>
    <span class="s">...</span>
    <span class="s">backend</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
      <span class="na">upstream</span><span class="pi">:</span> <span class="s">&lt;object&gt;</span>
    <span class="s">...</span></code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. <code>backend</code> object fields</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>name</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An identifier for the 3scale backend, currently not referenced elsewhere.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>upstream</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The details about a network host to be contacted. This must refer to the 3scale Account Management API host, known, system.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes. The most important and required field.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="ossm-threescale-webassembly-module-services-object_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-services-object_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module services object</h3>
<div class="paragraph">
<p>The <code>services</code> top-level object specifies which service identifiers are handled by this particular instance of the <code>module</code>.</p>
</div>
<div class="paragraph">
<p>Since accounts have multiple services, you must specify which ones are handled. The rest of the configuration revolves around how to configure services.</p>
</div>
<div class="paragraph">
<p>The <code>services</code> field is required. It is an array that must contain at least one service to be useful.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">maistra.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ServiceMeshExtension</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">threescale-wasm-auth</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">config</span><span class="pi">:</span>
    <span class="s">...</span>
    <span class="s">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2555417834789"</span>
      <span class="na">token</span><span class="pi">:</span> <span class="s">service_token</span>
      <span class="na">authorities</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">*.app"</span>
        <span class="pi">-</span> <span class="s">0.0.0.0</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">0.0.0.0:8443"</span>
      <span class="na">credentials</span><span class="pi">:</span> <span class="s">&lt;object&gt;</span>
      <span class="na">mapping_rules</span><span class="pi">:</span> <span class="s">&lt;object&gt;</span>
    <span class="s">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Each element in the <code>services</code> array represents a 3scale service.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. <code>services</code> object fields</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ID</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An identifier for this 3scale service, currently not referenced elsewhere.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>token</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This <code>token</code> can be found in the proxy configuration for your service in System or you can retrieve the it from System with following <code>curl</code> command:</p>
</div>
<div class="paragraph">
<p><code>curl https://&lt;system_host&gt;/admin/api/services/&lt;service_id&gt;/proxy/configs/production/latest.json?access_token=&lt;access_token&gt;" | jq '.proxy_config.content.backend_authentication_value</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>authorities</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of strings, each one representing the <em>Authority</em> of a <em>URL</em> to match. These strings accept glob patterns supporting the asterisk (<em>*</em>), plus sign (<em>+</em>), and question mark (<em>?</em>) matchers.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>credentials</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An object defining which kind of credentials to look for and where.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>mapping_rules</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of objects representing mapping rules and 3scale methods to hit.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="ossm-threescale-webassembly-module-credentials-object_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-credentials-object_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module credentials object</h3>
<div class="paragraph">
<p>The <code>credentials</code> object is a component of the <code>service</code> object. <code>credentials</code> specifies which kind of credentials to be looked up and the steps to perform this action.</p>
</div>
<div class="paragraph">
<p>All fields are optional, but you must specify at least one, <code>user_key</code> or <code>app_id</code>. The order in which you specify each credential is irrelevant because it is pre-established by the module. Only specify one instance of each credential.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">maistra.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ServiceMeshExtension</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">threescale-wasm-auth</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">config</span><span class="pi">:</span>
    <span class="s">...</span>
    <span class="s">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">credentials</span><span class="pi">:</span>
        <span class="na">user_key</span><span class="pi">:</span> <span class="s">&lt;array_of_lookup_queries&gt;</span>
        <span class="na">app_id</span><span class="pi">:</span> <span class="s">&lt;array_of_lookup_queries&gt;</span>
        <span class="na">app_key</span><span class="pi">:</span> <span class="s">&lt;array_of_lookup_queries&gt;</span>
    <span class="s">...</span></code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. <code>credentials</code> object fields</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>user_key</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is an array of lookup queries that defines a 3scale user key. A user key is commonly known as an API key.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>app_id</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This is an array of lookup queries that define a 3scale application identifier. Application identifiers are provided by 3scale or by using an identity provider like <a href="https://access.redhat.com/products/red-hat-single-sign-on">Red Hat Single Sign-On (RH-SS0)</a>, or OpenID Connect (OIDC). The resolution of the lookup queries specified here, whenever it is successful and resolves to two values, it sets up the <code>app_id</code> and the <code>app_key</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>app_key</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This is an array of lookup queries that define a 3scale application key. Application keys without a resolved <code>app_id</code> are useless, so only specify this field when <code>app_id</code> has been specified.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="ossm-threescale-webassembly-module-lookup-queries_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-lookup-queries_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module lookup queries</h3>
<div class="paragraph">
<p>The <code>lookup query</code> object is part of any of the fields in the <code>credentials</code> object. It specifies how a given credential field should be found and processed. When evaluated, a successful resolution means that one or more values were found. A failed resolution means that no values were found.</p>
</div>
<div class="paragraph">
<p>Arrays of <code>lookup queries</code> describe a short-circuit or relationship: a successful resolution of one of the queries stops the evaluation of any remaining queries and assigns the value or values to the specified credential-type. Each query in the array is independent of each other.</p>
</div>
<div class="paragraph">
<p>A <code>lookup query</code> is made up of a single field, a source object, which can be one of a number of source types. See the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">maistra.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ServiceMeshExtension</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">threescale-wasm-auth</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">config</span><span class="pi">:</span>
    <span class="s">...</span>
    <span class="s">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">credentials</span><span class="pi">:</span>
        <span class="na">user_key</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">&lt;source_type&gt;</span><span class="pi">:</span> <span class="s">&lt;object&gt;</span>
          <span class="pi">-</span> <span class="s">&lt;source_type&gt;</span><span class="pi">:</span> <span class="s">&lt;object&gt;</span>
          <span class="s">...</span>
        <span class="na">app_id</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">&lt;source_type&gt;</span><span class="pi">:</span> <span class="s">&lt;object&gt;</span>
          <span class="s">...</span>
        <span class="na">app_key</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">&lt;source_type&gt;</span><span class="pi">:</span> <span class="s">&lt;object&gt;</span>
          <span class="s">...</span>
    <span class="s">...</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ossm-threescale-webassembly-module-source-object_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-source-object_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module source object</h3>
<div class="paragraph">
<p>A <code>source</code> object exists as part of an array of sources within any of the <code>credentials</code> object fields. The object field name, referred to as a <code>source</code>-type is any one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>header</code>: The lookup query receives HTTP request headers as input.</p>
</li>
<li>
<p><code>query_string</code>: The <code>lookup query</code> receives the URL query string parameters as input.</p>
</li>
<li>
<p><code>filter</code>: The <code>lookup query</code> receives filter metadata as input.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All <code>source</code>-type objects have at least the following two fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. <code>source</code>-type object fields</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>keys</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array of strings, each one a <code>key</code>, referring to entries found in the input data.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ops</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array of <code>operations</code> that perform a <code>key</code> entry match. The array is a pipeline where operations receive inputs and generate outputs on the next operation. An <code>operation</code> failing to provide an output resolves the <code>lookup query</code> as failed. The pipeline order of the operations determines the evaluation order.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>filter</code> field name has a required <code>path</code> entry to show the path in the metadata you use to look up data.</p>
</div>
<div class="paragraph">
<p>When a <code>key</code> matches the input data, the rest of the keys are not evaluated and the source resolution algorithm jumps to executing the <code>operations</code> (<code>ops</code>) specified, if any. If no <code>ops</code> are specified, the result value of the matching <code>key</code>, if any, is returned.</p>
</div>
<div class="paragraph">
<p><code>Operations</code> provide a way to specify certain conditions and transformations for inputs you have after the first phase looks up a <code>key</code>. Use <code>operations</code> when you need to transform, decode, and assert properties, however they do not provide a mature language to deal with all needs and lack <em>Turing-completeness</em>.</p>
</div>
<div class="paragraph">
<p>A stack stored the outputs of <code>operations</code>. When evaluated, the <code>lookup query</code> finishes by assigning the value or values at the bottom of the stack, depending on how many values the credential consumes.</p>
</div>
</div>
<div class="sect2">
<h3 id="ossm-threescale-webassembly-module-operations-object_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-operations-object_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module operations object</h3>
<div class="paragraph">
<p>Each element in the <code>ops</code> array belonging to a specific <code>source type</code> is an <code>operation</code> object that either applies transformations to values or performs tests. The field name to use for such an object is the name of the <code>operation</code> itself, and any values are the parameters to the <code>operation</code>, which could be structure objects, for example, maps with fields and values, lists, or strings.</p>
</div>
<div class="paragraph">
<p>Most <code>operations</code> attend to one or more inputs, and produce one or more outputs. When they consume inputs or produce outputs, they work with a stack of values: each value consumed by the operations is popped from the stack of values and initially populated with any <code>source</code> matches. The values outputted by them are pushed to the stack. Other <code>operations</code> do not consume or produce outputs other than asserting certain properties, but they inspect a stack of values.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When resolution finishes, the values picked up by the next step, such as assigning the values to be an <code>app_id</code>, <code>app_key</code>, or <code>user_key</code>, are taken from the bottom values of the stack.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There are a few different <code>operations</code> categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>decode</code>: These transform an input value by decoding it to get a different format.</p>
</li>
<li>
<p><code>string</code>: These take a string value as input and perform transformations and checks on it.</p>
</li>
<li>
<p><code>stack</code>: These take a set of values in the input and perform multiple stack transformations and selection of specific positions in the stack.</p>
</li>
<li>
<p><code>check</code>: These assert properties about sets of operations in a side-effect free way.</p>
</li>
<li>
<p><code>control</code>: These perform operations that allow for modifying the evaluation flow.</p>
</li>
<li>
<p><code>format</code>: These parse the format-specific structure of input values and look up values in it.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All operations are specified by the name identifiers as strings.</p>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p>Available <a href="https://github.com/3scale/threescale-wasm-auth/blob/main/docs/operations.md">operations</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ossm-threescale-webassembly-module-mapping-rules-object_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-mapping-rules-object_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module mapping_rules object</h3>
<div class="paragraph">
<p>The <code>mapping_rules</code> object is part of the <code>service</code> object. It specifies a set of REST path patterns and related 3scale metrics and count increments to use when the patterns match.</p>
</div>
<div class="paragraph">
<p>You need the value if no dynamic configuration is provided in the <code>system</code> top-level object. If the object is provided in addition to the <code>system</code> top-level entry, then the <code>mapping_rules</code> object is evaluated first.</p>
</div>
<div class="paragraph">
<p><code>mapping_rules</code> is an array object. Each element of that array is a <code>mapping_rule</code> object. The evaluated matching mapping rules on an incoming request provide the set of 3scale <code>methods</code> for authorization and reporting to the <em>APIManager</em>. When multiple matching rules refer to the same <code>methods</code>, there is a summation of <code>deltas</code> when calling into 3scale. For example, if two rules increase the <em>Hits</em> method twice with <code>deltas</code> of 1 and 3, a single method entry for Hits reporting to 3scale has a <code>delta</code> of 4.</p>
</div>
</div>
<div class="sect2">
<h3 id="ossm-threescale-webassembly-module-mapping-rule-object_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-mapping-rule-object_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module mapping_rule object</h3>
<div class="paragraph">
<p>The <code>mapping_rule</code> object is part of an array in the <code>mapping_rules</code> object.</p>
</div>
<div class="paragraph">
<p>The <code>mapping_rule</code> object fields specify the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <em>HTTP request method</em> to match.</p>
</li>
<li>
<p>A pattern to match the path against.</p>
</li>
<li>
<p>The 3scale methods to report along with the amount to report. The order in which you specify the fields determines the evaluation order.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. <code>mapping_rule</code> object fields</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>method</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a string representing an HTTP request method, also known as verb. Values accepted match the any one of the accepted HTTP method names, case-insensitive. A special value of any matches any method.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>pattern</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The pattern to match the HTTP request&#8217;s URI path component. This pattern follows the same syntax as documented by 3scale. It allows wildcards (use of the asterisk (*) character) using any sequence of characters between braces such as <code>{this}</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>usages</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A list of <code>usage</code> objects. When the rule matches, all methods with their <code>deltas</code> are added to the list of methods sent to 3scale for authorization and reporting.</p>
</div>
<div class="paragraph">
<p>Embed the <code>usages</code> object with the following required fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code>: The <code>method</code> system name to report.</p>
</li>
<li>
<p><code>delta</code>: For how much to increase that <code>method</code> by.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>last</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the successful matching of this rule should stop the evaluation of more mapping rules.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional Boolean. The default is <code>false</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following example is independent of existing hierarchies between methods in 3scale. That is, anything run on the 3scale side will not affect this. For example, the <em>Hits</em> metric might be a parent of them all, so it stores 4 hits due to the sum of all reported methods in the authorized request and calls the 3scale <code>Authrep</code> API endpoint.</p>
</div>
<div class="paragraph">
<p>The example below uses a <code>GET</code> request to a path, <code>/products/1/sold</code>, that matches all the rules.</p>
</div>
<div class="listingblock">
<div class="title"><code>mapping_rules</code> <code>GET</code> request example</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">maistra.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ServiceMeshExtension</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">threescale-wasm-auth</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">config</span><span class="pi">:</span>
    <span class="s">...</span>
    <span class="s">mapping_rules</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">method</span><span class="pi">:</span> <span class="s">GET</span>
        <span class="na">pattern</span><span class="pi">:</span> <span class="s">/</span>
        <span class="na">usages</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hits</span>
            <span class="na">delta</span><span class="pi">:</span> <span class="m">1</span>
      <span class="pi">-</span> <span class="na">method</span><span class="pi">:</span> <span class="s">GET</span>
        <span class="na">pattern</span><span class="pi">:</span> <span class="s">/products/</span>
        <span class="na">usages</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">products</span>
            <span class="na">delta</span><span class="pi">:</span> <span class="m">1</span>
      <span class="pi">-</span> <span class="na">method</span><span class="pi">:</span> <span class="s">ANY</span>
        <span class="na">pattern</span><span class="pi">:</span> <span class="s">/products/{id}/sold</span>
        <span class="na">usages</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">sales</span>
            <span class="na">delta</span><span class="pi">:</span> <span class="m">1</span>
          <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">products</span>
            <span class="na">delta</span><span class="pi">:</span> <span class="m">1</span>
    <span class="s">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>All <code>usages</code> get added to the request the module performs to 3scale with usage data as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hits: 1</p>
</li>
<li>
<p>products: 2</p>
</li>
<li>
<p>sales: 1</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ossm-threescale-webassembly-module-examples-for-credentials-use-cases_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-examples-for-credentials-use-cases_ossm-threescale-webassembly-module"></a>The 3scale WebAssembly module examples for credentials use cases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You will spend most of your time applying configuration steps to obtain credentials in the requests to your services.</p>
</div>
<div class="paragraph">
<p>The following are <code>credentials</code> examples, which you can modify to adapt to specific use cases.</p>
</div>
<div class="paragraph">
<p>You can combine them all, although when you specify multiple source objects with their own <code>lookup queries</code>, they are evaluated in order until one of them successfully resolves.</p>
</div>
<div class="sect2">
<h3 id="api-key-in-query-string-parameters_ossm-threescale-webassembly-module"><a class="anchor" href="#api-key-in-query-string-parameters_ossm-threescale-webassembly-module"></a>API key (user_key) in query string parameters</h3>
<div class="paragraph">
<p>The following example looks up a <code>user_key</code> in a query string parameter or header of the same name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">credentials</span><span class="pi">:</span>
  <span class="na">user_key</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">query_string</span><span class="pi">:</span>
        <span class="na">keys</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">user_key</span>
    <span class="pi">-</span> <span class="na">header</span><span class="pi">:</span>
        <span class="na">keys</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">user_key</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="application-id-and-key_ossm-threescale-webassembly-module"><a class="anchor" href="#application-id-and-key_ossm-threescale-webassembly-module"></a>Application ID and key</h3>
<div class="paragraph">
<p>The following example looks up <code>app_key</code> and <code>app_id</code> credentials in a query or headers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">credentials</span><span class="pi">:</span>
  <span class="na">app_id</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">header</span><span class="pi">:</span>
        <span class="na">keys</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">app_id</span>
    <span class="pi">-</span> <span class="na">query_string</span><span class="pi">:</span>
        <span class="na">keys</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">app_id</span>
  <span class="na">app_key</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">header</span><span class="pi">:</span>
        <span class="na">keys</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">app_key</span>
    <span class="pi">-</span> <span class="na">query_string</span><span class="pi">:</span>
        <span class="na">keys</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">app_key</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="authorization-header_ossm-threescale-webassembly-module"><a class="anchor" href="#authorization-header_ossm-threescale-webassembly-module"></a>Authorization header</h3>
<div class="paragraph">
<p>A request includes an <code>app_id</code> and <code>app_key</code> in an <code>authorization</code> header. If there is at least one or two values outputted at the end, then you can assign the <code>app_key</code>.</p>
</div>
<div class="paragraph">
<p>The resolution here assigns the <code>app_key</code> if there is one or two outputted at the end.</p>
</div>
<div class="paragraph">
<p>The <code>authorization</code> header specifies a value with the type of authorization and its value is encoded as <code>Base64</code>. This means you can split the value by a space character, take the second output and then split it again using a colon (:) as the separator. For example, if you use this format <code>app_id:app_key</code>, the header looks like the following example for <code>credential</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">aladdin:opensesame:  Authorization: Basic YWxhZGRpbjpvcGVuc2VzYW1l</pre>
</div>
</div>
<div class="paragraph">
<p>You must use lower case header field names as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">credentials</span><span class="pi">:</span>
  <span class="na">app_id</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">header</span><span class="pi">:</span>
        <span class="na">keys</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">authorization</span>
        <span class="na">ops</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">split</span><span class="pi">:</span>
              <span class="na">separator</span><span class="pi">:</span> <span class="s2">"</span><span class="nv"> </span><span class="s">"</span>
              <span class="na">max</span><span class="pi">:</span> <span class="m">2</span>
          <span class="pi">-</span> <span class="na">length</span><span class="pi">:</span>
              <span class="na">min</span><span class="pi">:</span> <span class="m">2</span>
          <span class="pi">-</span> <span class="na">drop</span><span class="pi">:</span>
              <span class="na">head</span><span class="pi">:</span> <span class="m">1</span>
          <span class="pi">-</span> <span class="s">base64_urlsafe</span>
          <span class="pi">-</span> <span class="na">split</span><span class="pi">:</span>
              <span class="na">max</span><span class="pi">:</span> <span class="m">2</span>
  <span class="na">app_key</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">header</span><span class="pi">:</span>
        <span class="na">keys</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">app_key</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The previous example use case looks at the headers for an <code>authorization</code>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>It takes its string value and split it by a space, checking that it generates at least two values of a <code>credential</code>-type and the <code>credential</code> itself, then dropping the <code>credential</code>-type.</p>
</li>
<li>
<p>It then decodes the second value containing the data it needs, and splits it by using a colon (:) character to have an operations stack including first the <code>app_id</code>, then the <code>app_key</code>, if it exists.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If <code>app_key</code> does not exist in the authorization header then its specific sources are checked, for example, the header with the key <code>app_key</code> in this case.</p>
</li>
</ol>
</div>
</li>
<li>
<p>To add extra conditions to <code>credentials</code>, allow <code>Basic</code> authorizations, where <code>app_id</code> is either <code>aladdin</code> or <code>admin</code>, or any <code>app_id</code> being at least 8 characters in length.</p>
</li>
<li>
<p><code>app_key</code> must contain a value and have a minimum of 64 characters as shown in the following example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">credentials</span><span class="pi">:</span>
  <span class="na">app_id</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">header</span><span class="pi">:</span>
        <span class="na">keys</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">authorization</span>
        <span class="na">ops</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">split</span><span class="pi">:</span>
              <span class="na">separator</span><span class="pi">:</span> <span class="s2">"</span><span class="nv"> </span><span class="s">"</span>
              <span class="na">max</span><span class="pi">:</span> <span class="m">2</span>
          <span class="pi">-</span> <span class="na">length</span><span class="pi">:</span>
              <span class="na">min</span><span class="pi">:</span> <span class="m">2</span>
          <span class="pi">-</span> <span class="s">reverse</span>
          <span class="pi">-</span> <span class="na">glob</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">Basic</span>
          <span class="pi">-</span> <span class="na">drop</span><span class="pi">:</span>
              <span class="na">tail</span><span class="pi">:</span> <span class="m">1</span>
          <span class="pi">-</span> <span class="s">base64_urlsafe</span>
          <span class="pi">-</span> <span class="na">split</span><span class="pi">:</span>
              <span class="na">max</span><span class="pi">:</span> <span class="m">2</span>
          <span class="pi">-</span> <span class="na">test</span><span class="pi">:</span>
              <span class="na">if</span><span class="pi">:</span>
                <span class="na">length</span><span class="pi">:</span>
                  <span class="na">min</span><span class="pi">:</span> <span class="m">2</span>
              <span class="na">then</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">strlen</span><span class="pi">:</span>
                    <span class="na">max</span><span class="pi">:</span> <span class="m">63</span>
                <span class="pi">-</span> <span class="na">or</span><span class="pi">:</span>
                    <span class="pi">-</span> <span class="na">strlen</span><span class="pi">:</span>
                        <span class="na">min</span><span class="pi">:</span> <span class="m">1</span>
                    <span class="pi">-</span> <span class="na">drop</span><span class="pi">:</span>
                        <span class="na">tail</span><span class="pi">:</span> <span class="m">1</span>
          <span class="pi">-</span> <span class="na">assert</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">and</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s">reverse</span>
              <span class="pi">-</span> <span class="na">or</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">strlen</span><span class="pi">:</span>
                    <span class="na">min</span><span class="pi">:</span> <span class="m">8</span>
                <span class="pi">-</span> <span class="na">glob</span><span class="pi">:</span>
                  <span class="pi">-</span> <span class="s">aladdin</span>
                  <span class="pi">-</span> <span class="s">admin</span></code></pre>
</div>
</div>
</li>
<li>
<p>After picking up the <code>authorization</code> header value, you get a <code>Basic</code> <code>credential</code>-type by reversing the stack so that the type is placed on top.</p>
</li>
<li>
<p>Run a glob match on it. When it validates, and the credential is decoded and split, you get the <code>app_id</code> at the bottom of the stack, and potentially the <code>app_key</code> at the top.</p>
</li>
<li>
<p>Run a <code>test:</code> if there are two values in the stack, meaning an <code>app_key</code> was acquired.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Ensure the string length is between 1 and 63, including <code>app_id</code> and <code>app_key</code>. If the key&#8217;s length is zero, drop it and continue as if no key exists. If there was only an <code>app_id</code> and no <code>app_key</code>, the missing else branch indicates a successful test and evaluation continues.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The last operation, <code>assert</code>, indicates that no side-effects make it into the stack. You can then modify the stack:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Reverse the stack to have the <code>app_id</code> at the top.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Whether or not an <code>app_key</code> is present, reversing the stack ensures <code>app_id</code> is at the top.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Use <code>and</code> to preserve the contents of the stack across tests.</p>
<div class="paragraph">
<p>Then use one of the following possibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Make sure <code>app_id</code> has a string length of at least 8.</p>
</li>
<li>
<p>Make sure <code>app_id</code> matches either <code>aladdin</code> or <code>admin</code>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="openid-connect-use-case_ossm-threescale-webassembly-module"><a class="anchor" href="#openid-connect-use-case_ossm-threescale-webassembly-module"></a>OpenID Connect (OIDC) use case</h3>
<div class="paragraph">
<p>For Service Mesh and the 3scale Istio adapter, you must deploy a <code>RequestAuthentication</code> as shown in the following example, filling in your own workload data and <code>jwtRules</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">security.istio.io/v1beta1</span>
  <span class="s">kind</span><span class="pi">:</span> <span class="s">RequestAuthentication</span>
  <span class="s">metadata</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">jwt-example</span>
    <span class="na">namespace</span><span class="pi">:</span> <span class="s">bookinfo</span>
  <span class="na">spec</span><span class="pi">:</span>
    <span class="na">selector</span><span class="pi">:</span>
      <span class="na">matchLabels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">productpage</span>
    <span class="na">jwtRules</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">issuer</span><span class="pi">:</span> <span class="pi">&gt;-</span>
        <span class="s">http://keycloak-keycloak.34.242.107.254.nip.io/auth/realms/3scale-keycloak</span>
      <span class="na">jwksUri</span><span class="pi">:</span> <span class="pi">&gt;-</span>
        <span class="s">http://keycloak-keycloak.34.242.107.254.nip.io/auth/realms/3scale-keycloak/protocol/openid-connect/certs</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When you apply the <code>RequestAuthentication</code>, it configures <code>Envoy</code> with a <a href="https://www.envoyproxy.io/docs/envoy/v1.19.0/api-v3/extensions/filters/http/jwt_authn/v3/config.proto.html">native plug-in</a> to validate <code>JWT</code> tokens. The proxy validates everything before running the module so any requests that fail do not make it to the 3scale WebAssembly module.</p>
</div>
<div class="paragraph">
<p>When a <code>JWT</code> token is validated, the proxy stores its contents in an internal metadata object, with an entry whose key depends on the specific configuration of the plug-in. This use case gives you the ability to look up structure objects with a single entry containing an unknown key name.</p>
</div>
<div class="paragraph">
<p>The 3scale <code>app_id</code> for OIDC matches the OAuth <code>client_id</code>. This is found in the <code>azp</code> or <code>aud</code> fields of <code>JWT</code> tokens.</p>
</div>
<div class="paragraph">
<p>To get <code>app_id</code> field from Envoy&#8217;s native <code>JWT</code> authentication filter, see the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">credentials</span><span class="pi">:</span>
  <span class="na">app_id</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">filter</span><span class="pi">:</span>
        <span class="na">path</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">envoy.filters.http.jwt_authn</span>
          <span class="pi">-</span> <span class="s2">"</span><span class="s">0"</span>
        <span class="na">keys</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">azp</span>
          <span class="pi">-</span> <span class="s">aud</span>
        <span class="na">ops</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="na">take</span><span class="pi">:</span>
              <span class="na">head</span><span class="pi">:</span> <span class="s">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The example instructs the module to use the <code>filter</code> source type to look up filter metadata for an object from the <code>Envoy</code>-specific <code>JWT</code> authentication native plug-in. This plug-in includes the <code>JWT</code> token as part of a structure object with a single entry and a pre-configured name. Use <code>0</code> to specify that you will only access the single entry.</p>
</div>
<div class="paragraph">
<p>The resulting value is a structure for which you will resolve two fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>azp</code>: The value where <code>app_id</code> is found.</p>
</li>
<li>
<p><code>aud</code>: The value where this information can also be found.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The operation ensures only one value is held for assignment.</p>
</div>
</div>
<div class="sect2">
<h3 id="picking-up-the-jwt-token-from-a-header_ossm-threescale-webassembly-module"><a class="anchor" href="#picking-up-the-jwt-token-from-a-header_ossm-threescale-webassembly-module"></a>Picking up the JWT token from a header</h3>
<div class="paragraph">
<p>Some setups might have validation processes for <code>JWT</code> tokens where the validated token would reach this module via a header in JSON format.</p>
</div>
<div class="paragraph">
<p>To get the <code>app_id</code>, see the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">credentials</span><span class="pi">:</span>
  <span class="na">app_id</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">header</span><span class="pi">:</span>
        <span class="na">keys</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">x-jwt-payload</span>
        <span class="na">ops</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">base64_urlsafe</span>
          <span class="pi">-</span> <span class="na">json</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">keys</span><span class="pi">:</span>
              <span class="pi">-</span> <span class="s">azp</span>
              <span class="pi">-</span> <span class="s">aud</span>
          <span class="pi">-</span> <span class="na">take</span><span class="pi">:</span>
              <span class="na">head</span><span class="pi">:</span> <span class="s">1</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ossm-threescale-webassembly-module-minimal-working-configuration_ossm-threescale-webassembly-module"><a class="anchor" href="#ossm-threescale-webassembly-module-minimal-working-configuration_ossm-threescale-webassembly-module"></a>3scale WebAssembly module minimal working configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is an example of a 3scale WebAssembly module minimal working configuration. You can copy and paste this and edit it to work with your own configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">maistra.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ServiceMeshExtension</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">threescale-auth</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">registry.redhat.io/openshift-service-mesh/3scale-auth-wasm-rhel8:0.0.1</span>
  <span class="na">phase</span><span class="pi">:</span> <span class="s">PostAuthZ</span>
  <span class="na">priority</span><span class="pi">:</span> <span class="m">100</span>
  <span class="na">workloadSelector</span><span class="pi">:</span>
    <span class="na">labels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">productpage</span>
  <span class="na">config</span><span class="pi">:</span>
    <span class="na">api</span><span class="pi">:</span> <span class="s">v1</span>
    <span class="na">system</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">system-name</span>
      <span class="na">upstream</span><span class="pi">:</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">outbound|443||multitenant.3scale.net</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">https://istiodevel-admin.3scale.net/</span>
        <span class="na">timeout</span><span class="pi">:</span> <span class="m">5000</span>
      <span class="na">token</span><span class="pi">:</span> <span class="s">atoken</span>
    <span class="na">backend</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">backend-name</span>
      <span class="na">upstream</span><span class="pi">:</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">outbound|443||su1.3scale.net</span>
        <span class="na">url</span><span class="pi">:</span> <span class="s">https://su1.3scale.net/</span>
        <span class="na">timeout</span><span class="pi">:</span> <span class="m">5000</span>
      <span class="na">extensions</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">no_body</span>
    <span class="na">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s1">'</span><span class="s">2555417834780'</span>
      <span class="na">token</span><span class="pi">:</span> <span class="s">service_token</span>
      <span class="na">authorities</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">*"</span>
        <span class="na">credentials</span><span class="pi">:</span>
          <span class="na">app_id</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">header</span><span class="pi">:</span>
                <span class="na">keys</span><span class="pi">:</span>
                  <span class="pi">-</span> <span class="s">app_id</span>
            <span class="pi">-</span> <span class="na">query_string</span><span class="pi">:</span>
                <span class="na">keys</span><span class="pi">:</span>
                  <span class="pi">-</span> <span class="s">app_id</span>
                  <span class="pi">-</span> <span class="s">application_id</span>
          <span class="na">app_key</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">header</span><span class="pi">:</span>
                <span class="na">keys</span><span class="pi">:</span>
                  <span class="pi">-</span> <span class="s">app_key</span>
            <span class="pi">-</span> <span class="na">query_string</span><span class="pi">:</span>
                <span class="na">keys</span><span class="pi">:</span>
                  <span class="pi">-</span> <span class="s">app_key</span>
                  <span class="pi">-</span> <span class="s">application_key</span>
          <span class="na">user_key</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">query_string</span><span class="pi">:</span>
                <span class="na">keys</span><span class="pi">:</span>
                  <span class="pi">-</span> <span class="s">user_key</span>
            <span class="pi">-</span> <span class="na">header</span><span class="pi">:</span>
                <span class="na">keys</span><span class="pi">:</span>
                  <span class="pi">-</span> <span class="s">user_key</span>
      <span class="na">mapping_rules</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">method</span><span class="pi">:</span> <span class="s">GET</span>
        <span class="na">pattern</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/"</span>
        <span class="na">usages</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Hits</span>
          <span class="na">delta</span><span class="pi">:</span> <span class="m">1</span>
      <span class="pi">-</span> <span class="na">method</span><span class="pi">:</span> <span class="s">GET</span>
        <span class="na">pattern</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/o{*}c"</span>
        <span class="na">usages</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">oidc</span>
          <span class="na">delta</span><span class="pi">:</span> <span class="m">1</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Hits</span>
          <span class="na">delta</span><span class="pi">:</span> <span class="m">1</span>
      <span class="pi">-</span> <span class="na">method</span><span class="pi">:</span> <span class="s">any</span>
        <span class="na">pattern</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/{anything}?bigsale={*}"</span>
        <span class="na">usages</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">sale</span>
          <span class="na">delta</span><span class="pi">:</span> <span class="s">5</span></code></pre>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/nav-tertiary.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/hc-search.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/page-loader.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/clipboard.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/collapsible.js" type="text/javascript"></script>
  <script>
  var dk = 'openshift-rosa';
  var version = 'Branch Build';

  var distros = {
    'openshift-origin': ['docs_origin', version],
    // specific labels are used for OSD instead of the URL filter, due to its unusual URL structure; assume v4
    'openshift-dedicated': ['docs_dedicated_v4'],
    'openshift-online': ['docs_online', version],
    'openshift-enterprise': ['docs_cp', version],
    'openshift-aro' : ['docs_aro', version],
    'openshift-rosa' : ['docs_rosa'],
    'openshift-acs' : ['docs_acs', version]
  };

  // only OSD v3 docs have the version variable specified
  if (dk == "openshift-dedicated" && version == "3") {
    distros['openshift-dedicated'] = ['docs_dedicated_v3']
  }

  distros[dk] ? hcSearchCategory.apply(null, distros[dk]) : hcSearchCategory("docs");
  </script>
  <script type="text/javascript">
  /*<![CDATA[*/
  $(document).ready(function() {
    $("[id^='topicGroup']").on('show.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicGroup']").on('hide.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });

    const collapsibleContent = document.getElementsByTagName("details");
    for (var i = 0; i < collapsibleContent.length; i++) {
      collapsibleContent[i].setAttribute("open", "");
    }

  });
  /*]]>*/
  </script>

  <footer id="rh">

    <div class="container">
        <div class="row">

            <div class="col-sm-2">
                <img src="https://assets.openshift.com/hubfs/images/logos/Logo-RedHat-A-Reverse-RGB.svg" class="img-fluid" alt="Red Hat" style="height: 30px;">
            </div>

            <div class="col-sm-3">
                <p class="text-nowrap">Copyright  2022 Red Hat, Inc.</p>
            </div>



            <div class="col">
                <nav class="nav">
                    <a target="_blank" href="https://www.redhat.com/en/about/privacy-policy" class="nav-link">Privacy statement</a>
                    <a target="_blank" href="https://www.openshift.com/legal/terms/" class="nav-link">Terms of use</a>
                    <a target="_blank" href="https://www.redhat.com/en/about/all-policies-guidelines" class="nav-link">All policies and guidelines</a>
                    <a id="teconsent"></a>
                </nav>
            </div>
        </div>
    </div>
</footer>
<div id="consent_blackbar" style="z-index: 100; position: fixed"></div>



<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->

  <!-- adjust page css based on breadcrumb and/or resize -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      }
    });

    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      } else if ($(window).width() < 1008) {
        sidebar.classList.remove('wide');
        document.querySelector('#hc-search').classList.remove('wide');
        if (sidebar.classList.contains('open')) {
          sidebar.style.display = 'block';
        } else {
          sidebar.style.display = 'none';
        }
        document.querySelector('.main').style.paddingTop = '0px';
      }
    });

    function adjustSide() {
      sidebar.classList.add('wide');
      document.querySelector('#hc-search').classList.add('wide');
      sidebar.style.display = 'block';
      document.querySelector('.sidebar').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 125), 10) + "px";
      document.querySelector('#hc-search').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 95), 10) + "px";
    }

    function adjustToc() {
      if (document.querySelector('#toc') !== null) {
        document.querySelector('#toc').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      }
    }

    function adjustMain() {
      document.querySelector('html').style.scrollPaddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      document.querySelector('.main').style.paddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight - 70), 10) + "px";
    }

  </script>

  <!-- remove toc active class when page is loaded -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      var tocItems = $("#toc a");

      for (let i = 0; i < tocItems.length; i++) {
        tocItems[i].classList.remove("toc-active");
      }
    })
  </script>

  <!-- maintain sidebar scroll position between page loads -->
  <script type="text/javascript">
    let sidebar = document.querySelector(".sidebar");
    let scrolltop = localStorage.getItem("sidebar-scroll");

    if (scrolltop == null) {
      sidebar.scrollTop = parseInt(top, 10);
    }

    window.addEventListener("beforeunload", () => {
      localStorage.setItem("sidebar-scroll", sidebar.scrollTop);
    });

    window.addEventListener('load', () => {
      sidebar.scrollTo(0, scrolltop)
    })
  </script>

  <!-- open/close the nav -->
  <script type="text/javascript">
    function closeNav() {
      let sidebar = document.querySelector(".sidebar");
      sidebar.style.display = "none";
      sidebar.classList.remove('open');
    }

    function openNav() {
      let sidebar = document.querySelector(".sidebar");
      let hc_search = document.querySelector('#hc-search');
      sidebar.style.display = "block";
      sidebar.style.top = "0px";
      hc_search.style.top = 'unset';
      sidebar.classList.add('open');
    }
  </script>

  <!-- clear and add toc-active to clicked toc link -->
  <script type="text/javascript">
  $("#toc a").click(function() {
    var tocItems = $("#toc a");
    for (let i = 0; i < tocItems.length; i++) {
      tocItems[i].classList.remove("toc-active");
    }
    this.classList.add("toc-active");
  });
  </script>

  <!-- update active toc class when mouse scrolls -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      window.addEventListener("wheel", () => {

        const ioConfiguration = {
          "rootMargin": "-120px 0px -400px 0px",
          "threshold": 0
        };

        const observer = new IntersectionObserver(setCurrent, ioConfiguration, entries => {
          entries.forEach(entry => {
            var id = entry.target.getAttribute('id');
            //fight with js
            document.querySelector(`#toc li a[href="#${id}"]`).classList.remove('toc-active');
          });
        });

        //track all h1-4 headings that have an id
        document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
          observer.observe(h);
        });

        //runs when the IntersectionObserver fires
        function setCurrent(e) {
          var allTocLinks = document.querySelectorAll("#toc li a");
          if (allTocLinks !== undefined) {
            e.map(i => {
              if (i.isIntersecting && i.intersectionRatio >= 1) {
                allTocLinks.forEach(link => link.classList.remove("toc-active"));
                document.querySelector(`#toc li a[href="#${i.target.id}"]`).classList.add('toc-active')
              }
            })
          }
        };

        //make clicked toc item active and stop IntersectionObserver
        $("#toc a").click(function() {
          //stop tracking all h1-4 headings that have an id
          document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
            observer.unobserve(h);
          });
          var tocItems = $("#toc a");
          if (tocItems !== undefined) {
            for (let i = 0; i < tocItems.length; i++) {
              tocItems[i].classList.remove("toc-active");
            };
            this.classList.add("toc-active");
          }
        })
      })
    })
  </script>

  <!--handle page scroll top and bottom, add toc-active -->
  <script type="text/javascript">
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active")
          };
          tocItems[tocItems.length - 1].classList.add("toc-active");
        };
      //scroll to top
      if(window.pageYOffset === 0) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active");
          };
          tocItems[0].classList.add("toc-active");
        };
      })
  </script>

  <!--adjust sidebar and toc when footer is displayed -->
  <script type="text/javascript">
    sidebar = document.querySelector('.sidebar')
    toc = document.querySelector('#toc')
    main = document.querySelector('.main')
    okd_footer = document.querySelector('.footer-origin-docs')

    //handle short pages
    if (window.innerHeight === document.documentElement.scrollHeight) {
      //sidebar
      if (sidebar !== null && okd_footer == null) {
        sidebar.style.marginBottom = "38px";
        main.style.marginBottom = "35px";
      };
      //okd sidebar
      if(sidebar !== null && okd_footer !== null) {
        sidebar.style.marginBottom = "176px";
        main.style.marginBottom = "135px";
      }
    };

    //handle scrolling pages
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if ($(window).width() >= 1008) {
        if(sidebar !== null) {
          //pages with multiple toc entries
          if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
              //sidebar
              if (sidebar !== null && okd_footer == null){
                sidebar.style.marginBottom = "38px";
                main.style.marginBottom = "35px";
              };
              //toc
              if (toc !== null && okd_footer == null){
                toc.style.bottom = "35px";
              };
              //okd sidebar
              if(sidebar !== null && okd_footer !== null) {
                sidebar.style.marginBottom = "176px";
                main.style.marginBottom = "135px";
              };
              //okd toc
              if (toc !== null && okd_footer !== null){
                toc.style.bottom = "175px";
              };
            };
          if(document.documentElement.scrollHeight != window.pageYOffset + window.innerHeight) {
            sidebar.style.marginBottom = "0px";
            if (toc !== null) {
              toc.style.bottom = "0px";
            }
          }
        }
      }
    })
  </script>

  <!-- adjust alerts on mobile -->
  <script type="text/javascript">
    alert = document.querySelector('#support-alert')
    window.addEventListener("wheel", () => {
      if ($(window).width() < 1008) {
        //adjust alert
        if(window.pageYOffset > 0) {
          if(alert !== null) {
            document.querySelector('#support-alert').style.position = "fixed";
            document.querySelector('#support-alert').style.bottom = "0px";
            document.querySelector('#support-alert').style.margin = "5px";
            document.querySelector('#support-alert').style.zIndex = "9999999";
          }
        }
      }
   });
    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        if(alert !== null) {
          document.querySelector('#support-alert').style.removeProperty('position');
          document.querySelector('#support-alert').style.removeProperty('bottom');
          document.querySelector('#support-alert').style.removeProperty('margin');
          document.querySelector('#support-alert').style.removeProperty('zIndex');
        }
      }
    })
  </script>

</body>
</html>